(this.webpackJsonprestaurants2030=this.webpackJsonprestaurants2030||[]).push([[0],{183:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(84),a=n.n(i),o=(n(183),n(262)),l=n(25),s=n(34),j=n(2);function d(){return Object(j.jsx)("div",{children:"RESTAURANT N\xc9ZET"})}var b=n(261),u=n(14),O=n.n(u),h=n(29),x=n(15),f=n(5),p=n(233),m=n(240),g=n(260),v=n(244),S=n(149),y=n(68),C=n(241),w=n(242),k=n(243),I=n(165),A=r.a.createContext(null),D=n(55),N=n(71),R=n.n(N);function E(){return(E=Object(h.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("/account/login",t);case 2:if(!(n=e.sent).data){e.next=7;break}return localStorage.setItem("user",JSON.stringify(n.data)),ht.push("/"),e.abrupt("return",n.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(h.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("/account/register",t);case 2:if(!(n=e.sent).data){e.next=7;break}return localStorage.setItem("user",JSON.stringify(n.data)),ht.push("/"),e.abrupt("return",n.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){var e=localStorage.getItem("user");return e?JSON.parse(e).accessToken:null}function z(){return L.apply(this,arguments)}function L(){return(L=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/fooddrink");case 2:if(!(t=e.sent).data){e.next=5;break}return e.abrupt("return",t.data);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(h.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("update jon"),e.next=3,R.a.put("/fooddrink/".concat(t),n);case 3:return ht.push("/management"),e.abrupt("return",null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(h.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete("/fooddrink/".concat(t));case 2:return ht.push("/management"),e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}R.a.defaults.baseURL="http://localhost:5000/api",R.a.interceptors.request.use((function(e){var t=P();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}));var W=n(232),_=n(235),G=n(52),H=n(266),B=n(122);function q(e){var t=Object(W.a)(),n=t.isOpen,c=t.onOpen,i=t.onClose,a=r.a.useState(e.foodDrink.name),o=Object(f.a)(a,2),l=o[0],s=o[1],d=r.a.useState(e.foodDrink.price),b=Object(f.a)(d,2),u=b[0],O=b[1];return Object(j.jsxs)(p.a,{flexDirection:"row",my:"5",padding:"0.5em",backgroundColor:"papayawhip",rounded:"0.5em",children:[Object(j.jsxs)(p.a,{children:[Object(j.jsx)(_.a,{fontSize:"lg",mb:"5",fontWeight:"bold",children:e.foodDrink.name}),Object(j.jsxs)(_.a,{fontSize:"lg",mb:"5",fon:!0,children:[e.foodDrink.price," $"]})]}),Object(j.jsx)(I.a,{mx:1,onClick:c,color:"#41bb93",children:Object(j.jsx)(B.b,{})}),Object(j.jsx)(I.a,{mx:1,onClick:function(){!function(e){U.apply(this,arguments)}(e.foodDrink.id),e.onDelete(e.foodDrink.id)},color:"#ff0000",children:Object(j.jsx)(B.a,{})}),Object(j.jsxs)(G.a,{isOpen:n,onClose:i,children:[Object(j.jsx)(G.h,{}),Object(j.jsxs)(G.d,{children:[Object(j.jsx)(G.g,{children:"Update item"}),Object(j.jsx)(G.c,{}),Object(j.jsxs)(G.b,{children:[Object(j.jsxs)(H.a,{onChange:s,defaultValue:e.foodDrink.name,startWithEditView:!0,children:[Object(j.jsx)(H.c,{}),Object(j.jsx)(H.b,{})]}),Object(j.jsxs)(g.c,{onChange:function(e){return O(+e)},defaultValue:e.foodDrink.price,min:0,children:[Object(j.jsx)(g.d,{}),Object(j.jsxs)(g.e,{children:[Object(j.jsx)(g.b,{}),Object(j.jsx)(g.a,{})]})]})]}),Object(j.jsxs)(G.f,{children:[Object(j.jsx)(I.a,{mx:3,onClick:i,variant:"outline",children:"Close"}),Object(j.jsx)(I.a,{onClick:function(){!function(e,t){F.apply(this,arguments)}(e.foodDrink.id,{name:l,price:u}),e.onUpdate(e.foodDrink.id,l,u)},variant:"solid",children:"Update"})]})]})]})]})}function M(){var e=r.a.useContext(A),t=Object(S.a)(),n=t.register,i=t.handleSubmit,a=t.formState,o=a.errors,l=a.isSubmitting;Object(c.useEffect)((function(){(null===e||void 0===e?void 0:e.connection)&&(null===e||void 0===e?void 0:e.connection.state)!==D.b.Connected&&(null===e||void 0===e||e.connection.start())}),[null===e||void 0===e?void 0:e.connection]);var s=r.a.useState("0.0"),d=Object(f.a)(s,2),b=d[0],u=d[1],N=r.a.useState([]),R=Object(f.a)(N,2),E=R[0],T=R[1],P=Object(c.useCallback)((function(e){console.log(e),E.push(e),T(E)}),[E]);Object(c.useEffect)((function(){(null===e||void 0===e?void 0:e.connection)&&(null===e||void 0===e||e.connection.on("AddNewFoodDrinkHandler",(function(e){P(e)})))}),[e,P]);var L,F=function(e,t,n){var c=E.map((function(c){return c.id===e?Object(x.a)(Object(x.a)({},c),{},{name:t,price:n}):c}));T(c)},U=function(e){var t=E.filter((function(t){return t.id!==e}));T(t)};return Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(j.jsxs)(p.a,{w:"full",children:[Object(j.jsx)(m.a,{children:Object(j.jsx)(p.a,{maxW:"400px",w:"full",mb:4,p:3,shadow:"base",borderWidth:"1px",alignSelf:{base:"center",lg:"flex-start"},borderColor:"gray.200",borderRadius:"xl",boxShadow:"2xl",rounded:"md",background:"white",overflow:"hidden",children:Object(j.jsxs)("form",{onSubmit:i((function(t){return new Promise((function(n){var c,r={name:t.name,price:+b};console.log(r),n(null===e||void 0===e||null===(c=e.connection)||void 0===c?void 0:c.invoke("AddNewFoodDrink",{NewFoodDrink:r}))}))})),children:[Object(j.jsxs)(y.a,{isInvalid:o.name,children:[Object(j.jsx)(C.a,{htmlFor:"name",children:"Please add your new food/drink"}),Object(j.jsx)(w.a,Object(x.a)({id:"name",placeholder:"Food or drink name"},n("name",{required:"This is required",minLength:{value:4,message:"Minimum length should be 4"}}))),Object(j.jsxs)(g.c,Object(x.a)(Object(x.a)({id:"price"},n("price",{required:"This is required"})),{},{onChange:function(e){return u(e.replace(/^\$/,""))},value:(L=b,"$"+L),min:0,children:[Object(j.jsx)(g.d,{}),Object(j.jsxs)(g.e,{children:[Object(j.jsx)(g.b,{}),Object(j.jsx)(g.a,{})]})]})),Object(j.jsx)(k.a,{children:o.name&&o.name.message})]}),Object(j.jsx)(m.a,{children:Object(j.jsx)(I.a,{mt:4,colorScheme:"teal",isLoading:l,type:"submit",children:"Submit"})})]})})}),Object(j.jsx)(v.a,{minChildWidth:"120px",spacing:"40px",children:E.map((function(e){return Object(j.jsx)(q,{foodDrink:e,onUpdate:F,onDelete:U})}))})]})}function V(){return Object(j.jsx)(p.a,{children:Object(j.jsx)(_.a,{children:"ANALYTICS CHARTS"})})}function J(){return Object(j.jsxs)(b.e,{isFitted:!0,variant:"enclosed",children:[Object(j.jsxs)(b.b,{mb:"1em",color:"black",background:"papayawhip",children:[Object(j.jsx)(b.a,{children:"Management"}),Object(j.jsx)(b.a,{children:"Analytics"})]}),Object(j.jsxs)(b.d,{children:[Object(j.jsx)(b.c,{children:Object(j.jsx)(M,{})}),Object(j.jsx)(b.c,{children:Object(j.jsx)(V,{})})]})]})}var Y,$=n(154),K=n(81),Z=n(24);!function(e){e[e.InProgress=0]="InProgress",e[e.Ready=1]="Ready",e[e.Served=2]="Served",e[e.Preparing=3]="Preparing"}(Y||(Y={}));var Q=n(246),X=n(247);function ee(e){return Object(j.jsxs)(p.a,{flexGrow:1,mx:2,children:[Object(j.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(j.jsx)(_.a,{fontSize:e.fontSize,fontWeight:"bold",children:e.orderName}),e.showTable&&Object(j.jsxs)(Q.a,{my:"1",fontSize:"0.8em",colorScheme:"green",variant:"solid",children:["TABLE ",e.tableNum]})]}),Object(j.jsx)(X.a,{})]})}var te,ne=n(248),ce=n(72);n(145);function re(e){var t=function(t,n){return Object(j.jsx)(ce.LeadingActions,{children:Object(j.jsx)(ce.SwipeAction,{destructive:!0,onClick:function(){n(t)},children:Object(j.jsx)(p.a,{bg:"red.200",children:Object(j.jsxs)(m.a,{justifyContent:"justify-center",display:"row",d:"flex",px:"1",children:[e.leadingIcon,e.leadingChild]})})})})};return Object(j.jsx)(ne.a,{children:Object(j.jsx)(ce.SwipeableList,{fullSwipe:!0,style:{backgroundColor:"orange.200"},type:ce.Type.ANDROID,threshold:.5,children:e.list.map((function(n){return Object(j.jsx)(ce.SwipeableListItem,{trailingActions:(c=n,r=e.onClick,Object(j.jsx)(ce.TrailingActions,{children:Object(j.jsx)(ce.SwipeAction,{destructive:!0,onClick:function(){r(c)},children:Object(j.jsx)(p.a,{bg:"red.200",children:Object(j.jsxs)(m.a,{justifyContent:"justify-center",display:"row",d:"flex",px:"1",children:[e.trailingIcon,e.trailingChild]})})})})),leadingActions:null!=e.onUndo?t(n,e.onUndo):null,children:e.children(n.name,n.table)},n.id);var c,r}))})})}function ie(){var e=Object(c.useReducer)(Object(K.a)((function(e,t){switch(t.type){case te.INITIAL:void 0!==t.orders&&t.orders.forEach((function(t){var n=e.get(t.table);void 0!==n?n.push(t):e.set(t.table,[t])}));break;case te.ORDER_STATUS_CHANGED:if(void 0!==t.order){var n=e.get(t.order.table);if(void 0!==n){var c=n.findIndex((function(e){var n;return e.id===(null===(n=t.order)||void 0===n?void 0:n.id)}));n[c]=t.order}}}})),new Map,void 0),t=Object(f.a)(e,2),n=t[0],i=t[1],a=Object(c.useCallback)((function(e){i({type:te.ORDER_STATUS_CHANGED,order:e})}),[]),o=Object(c.useCallback)((function(e){i({type:te.INITIAL,orders:e})}),[]),l=r.a.useContext(A),s=Object(c.useCallback)((function(e,t){var n;null===l||void 0===l||null===(n=l.connection)||void 0===n||n.invoke("UpdateOrderStatus",{Id:e.id,OrderStatus:t})}),[l]);Object(c.useEffect)((function(){if(null===l||void 0===l?void 0:l.connection){var e;if((null===l||void 0===l?void 0:l.connection.state)!==D.b.Connected)null===l||void 0===l||l.connection.start().then((function(){var e;null===l||void 0===l||null===(e=l.connection)||void 0===e||e.invoke("GetAllOrders")}));else null===l||void 0===l||null===(e=l.connection)||void 0===e||e.invoke("GetAllOrders");null===l||void 0===l||l.connection.on("AllOrders",(function(e){o(e)})),null===l||void 0===l||l.connection.on("OrderStatusUpdated",(function(e){a(e)}))}}),[null===l||void 0===l?void 0:l.connection,a,o]);var d=Object(c.useState)([]),b=Object(f.a)(d,2),u=b[0],O=b[1],h=Object(c.useState)([]),x=Object(f.a)(h,2),p=x[0],g=x[1],v=Object(c.useState)([]),S=Object(f.a)(v,2),y=S[0],C=S[1];return Object(c.useEffect)((function(){var e=[],t=[],c=[];n.forEach((function(n,r){n.forEach((function(n){n.orderStatus===Y.InProgress?e.push(n):n.orderStatus===Y.Preparing?t.push(n):n.orderStatus===Y.Ready&&c.push(n)}))})),O(e),g(t),C(c),console.log(e),console.log(t),console.log(c)}),[n]),Object(j.jsxs)($.a,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(3, 1fr)",gap:4,children:[Object(j.jsxs)($.b,{colSpan:1,bg:"tomato",children:[Object(j.jsx)(m.a,{mx:1,children:Object(j.jsx)(_.a,{my:3,mx:3,fontSize:"2xl",fontWeight:"bold",color:"grey.700",children:"Pending orders"})}),Object(j.jsx)(re,{children:function(e,t){return Object(j.jsx)(ee,{orderName:e,tableNum:t,showTable:!0,fontSize:"xl"})},trailingChild:Object(j.jsx)(_.a,{children:"PREPARING"}),trailingIcon:Object(j.jsx)(Z.f,{}),list:u,onClick:function(e){s(e,Y.Preparing)}})]}),Object(j.jsxs)($.b,{colSpan:1,bg:"papayawhip",children:[Object(j.jsx)(m.a,{mx:1,children:Object(j.jsx)(_.a,{my:3,mx:3,fontSize:"2xl",fontWeight:"bold",color:"grey.700",children:"Preparing"})}),Object(j.jsx)(re,{children:function(e,t){return Object(j.jsx)(ee,{orderName:e,tableNum:t,showTable:!0,fontSize:"xl"})},trailingChild:Object(j.jsx)(_.a,{children:"FINISHED"}),trailingIcon:Object(j.jsx)(Z.f,{}),list:p,leadingChild:Object(j.jsx)(_.a,{children:"IN PROGRESS"}),leadingIcon:Object(j.jsx)(Z.e,{}),onClick:function(e){s(e,Y.Ready)},onUndo:function(e){s(e,Y.InProgress)}})]}),Object(j.jsxs)($.b,{colSpan:1,bg:"green.300",children:[Object(j.jsx)(m.a,{mx:1,children:Object(j.jsx)(_.a,{my:3,mx:3,fontSize:"2xl",fontWeight:"bold",color:"grey.700",children:"Finished orders"})}),Object(j.jsx)(re,{children:function(e,t){return Object(j.jsx)(ee,{orderName:e,tableNum:t,showTable:!0,fontSize:"xl"})},trailingChild:Object(j.jsx)(_.a,{children:"PREPARING"}),trailingIcon:Object(j.jsx)(Z.e,{}),list:y,onClick:function(e){s(e,Y.Preparing)}})]})]})}!function(e){e.INITIAL="Initial",e.ORDER_STATUS_CHANGED="OrderStatusChanged"}(te||(te={}));var ae=n(250),oe=n(13),le=n(267),se=n(259),je=n(265),de=n(251),be=n(252),ue=n(254),Oe=n(253),he=n(255),xe=n(249);function fe(e){return Object(j.jsx)(le.a,{spacing:4,children:Object(j.jsxs)(xe.a,{size:"md",borderRadius:"full",variant:"solid",colorScheme:"orange",children:[Object(j.jsx)(xe.c,{children:e.title}),Object(j.jsx)(xe.b,{onClick:function(){return e.onClose(e.id)}})]},e.id)})}var pe=[],me=function(e){var t=r.a.useContext(A),n=r.a.useState([]),i=Object(f.a)(n,2),a=i[0],o=i[1],l=r.a.useState([]),s=Object(f.a)(l,2),d=s[0],b=s[1];Object(c.useEffect)((function(){pe=e.foodDrinks,b(e.foodDrinks)}),[e.foodDrinks]);var u=function(e,t){var n=d.findIndex((function(t){return t.id===e})),c=Object(x.a)({},d[n]);c.quantity=c.quantity+t;var r=d;r[n]=c,b(r)},O=function(e){var t=a.findIndex((function(t){return t.id===e}));o(a.filter((function(e,n){return n!==t}))),u(e,-1)},h=function(){o([]),d.map((function(e){return e.quantity=0})),b(d)};return Object(j.jsxs)(se.a,{children:[Object(j.jsx)(se.f,{children:Object(j.jsx)(I.a,{colorScheme:"orange",size:"xs",children:Object(j.jsx)(Z.h,{})})}),Object(j.jsx)(je.a,{children:Object(j.jsxs)(se.d,{children:[Object(j.jsx)(se.b,{}),Object(j.jsxs)(se.c,{children:[Object(j.jsx)(ae.a,{children:a.map((function(e){return Object(j.jsx)(fe,{title:e.name,id:e.id,onClose:O},e.id)}))}),Object(j.jsx)(X.a,{my:1}),Object(j.jsx)(p.a,{children:Object(j.jsxs)(le.c,{children:[Object(j.jsxs)(de.a,{children:[Object(j.jsx)(be.a,{pointerEvents:"none",children:Object(j.jsx)(Oe.a,{color:"gray.300"})}),Object(j.jsx)(w.a,{type:"text",placeholder:"Search for orders...",onChange:function(e){var t=e.target.value;b(d.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))),0!==d.length&&0!==t.trim().length||b(pe)}})]}),Object(j.jsx)(I.a,{my:2,colorScheme:"red",size:"xs",onClick:h,variant:"outline",children:"REMOVE ALL ORDERS"}),d.map((function(e){return Object(j.jsxs)(p.a,{w:"full",display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(j.jsx)(_.a,{children:e.name}),Object(j.jsx)(p.a,{zIndex:1,children:Object(j.jsx)(ue.a,{position:"relative",size:"sm",onClick:function(){return function(e){o([].concat(Object(oe.a)(a),[e])),u(e.id,1)}(e)},"aria-label":"Add menu",icon:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(he.a,{}),null!=e.quantity&&e.quantity>0&&Object(j.jsx)(Q.a,{position:"absolute",top:"-5px",right:"-5px",colorScheme:"red",children:e.quantity})]})})})]},e.id)}))]})})]}),Object(j.jsx)(se.e,{children:Object(j.jsx)(m.a,{children:Object(j.jsx)(I.a,{colorScheme:"teal",variant:"outline",onClick:function(){var n;console.log(d),null===t||void 0===t||null===(n=t.connection)||void 0===n||n.invoke("AddNewOrders",{TableNum:e.tableNum,NewOrders:d}),h()},children:"ADD ORDERS"})})})]})})]})},ge=n(268),ve=n(155),Se=function(e){var t=Object(ge.a)(e),n=t.getInputProps,c=t.getCheckboxProps,r=n(),i=c();return Object(j.jsxs)(p.a,{as:"label",children:[Object(j.jsx)("input",Object(x.a)(Object(x.a)({},r),{},{onClick:function(){return console.log(e.label)}})),Object(j.jsx)(p.a,Object(x.a)(Object(x.a)({},i),{},{cursor:"pointer",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{bg:"teal.600",color:"white",borderColor:"teal.600"},_focus:{boxShadow:"outline"},px:5,py:3,children:e.children}))]})};function ye(){var e=Object(ve.a)({name:"framework",defaultValue:"react",onChange:console.log}),t=e.getRootProps,n=e.getRadioProps,c=t();return Object(j.jsx)(le.a,Object(x.a)(Object(x.a)({},c),{},{children:["Cash","BankCard"].map((function(e){var t=n({value:e});return Object(j.jsx)(Se,Object(x.a)(Object(x.a)({label:e},t),{},{children:e}),e)}))}))}var Ce,we=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function ke(e){return Object(j.jsxs)(p.a,{children:[e.orders.map((function(t){return Object(j.jsxs)(p.a,{display:"flex",w:"full",justifyContent:"space-between",alignContent:"center",alignItems:"center",my:1,children:[Object(j.jsxs)(p.a,{display:"flex",w:"full",justifyContent:"space-between",mr:e.isSplitBill?3:0,children:[Object(j.jsx)(_.a,{children:t.name}),Object(j.jsx)(_.a,{children:we.format(t.price)})]}),e.isSplitBill&&Object(j.jsx)(I.a,{onClick:function(){return e.moveOrder(t.id)},colorScheme:"orange",variant:"outline",size:"sm",children:e.buttonText})]},t.id)})),Object(j.jsxs)(p.a,{w:"full",border:1,display:"flex",bg:"green.300",justifyContent:"space-between",children:[Object(j.jsx)(_.a,{fontWeight:"bold",children:"Total amount:"}),Object(j.jsx)(_.a,{fontWeight:"extrabold",children:we.format(e.orders.reduce((function(e,t){return+e+t.price}),0))})]})]})}function Ie(e){var t=Object(c.useState)(!1),n=Object(f.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(e.table),o=Object(f.a)(a,2),l=o[0],s=o[1],d=Object(c.useState)([]),b=Object(f.a)(d,2),u=b[0],O=b[1];return Object(j.jsxs)($.a,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(3, 1fr)",gap:4,children:[Object(j.jsxs)($.b,{colSpan:1,bg:"papayawhip",p:2,children:[Object(j.jsx)(ke,{orders:l,moveOrder:function(e){var t=l.findIndex((function(t){return t.id===e})),n=l[t];s(l.filter((function(e,n){return n!==t}))),O([].concat(Object(oe.a)(u),[n])),console.log("tosplit")},isSplitBill:r,buttonText:"SPLIT"}),!r&&Object(j.jsx)(m.a,{children:Object(j.jsx)(I.a,{children:"PAY"})})]}),Object(j.jsx)($.b,{colSpan:1,bg:"papayawhip",p:2,children:Object(j.jsx)(m.a,{children:Object(j.jsxs)(le.c,{display:"flex",w:"full",children:[Object(j.jsxs)(I.a,{colorScheme:"orange",size:"xl",onClick:function(){i((function(e){return!e})),s([].concat(Object(oe.a)(l),Object(oe.a)(u))),O([])},p:1,children:[!r&&Object(j.jsx)(_.a,{mx:1,children:"Do you want to split the bill?"}),r&&Object(j.jsx)(_.a,{mx:1,children:"Back to only normal bill"}),Object(j.jsx)(Z.h,{})]}),r&&Object(j.jsxs)(p.a,{w:"full",color:"blue.800",children:[Object(j.jsx)(ke,{orders:u,moveOrder:function(e){var t=u.findIndex((function(t){return t.id===e})),n=u[t];O(u.filter((function(e,n){return n!==t}))),s([].concat(Object(oe.a)(l),[n])),console.log("tonormal")},isSplitBill:r,buttonText:"UNDO"}),Object(j.jsx)(m.a,{children:Object(j.jsx)(I.a,{children:"PAY"})})]})]})})}),Object(j.jsx)($.b,{colSpan:1,children:Object(j.jsx)(ye,{})})]})}function Ae(e){return Object(j.jsxs)(G.a,{onClose:e.toggleOpen,size:"full",isOpen:e.isOpen,children:[Object(j.jsx)(G.h,{}),Object(j.jsxs)(G.d,{children:[Object(j.jsxs)(G.g,{children:["Payment for TABLE",e.tableNum," "]}),Object(j.jsx)(G.c,{}),Object(j.jsx)(G.b,{children:Object(j.jsx)(Ie,{table:e.table})}),Object(j.jsx)(G.f,{children:Object(j.jsx)(I.a,{onClick:e.toggleOpen,children:"Close"})})]})]})}function De(e){var t=r.a.useState(!1),n=Object(f.a)(t,2),c=n[0],i=n[1],a=function(){i((function(e){return!e}))};return Object(j.jsx)(p.a,{maxW:"270px",w:"full",bg:"whiteAlpha.900",boxShadow:"2xl",rounded:"md",overflow:"hidden",m:"3",_hover:{transform:"scale(1.2)",boxShadow:"lg",borderColor:"grey.900"},children:Object(j.jsxs)(p.a,{p:6,children:[Object(j.jsxs)(le.c,{spacing:"2px",children:[Object(j.jsxs)($.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(j.jsx)(p.a,{}),Object(j.jsxs)(Q.a,{fontSize:"md",mb:1,mr:3,children:["Table ",e.tableNumber]}),Object(j.jsx)(me,{addNewOrders:e.addOrder,foodDrinks:e.foodDrinks,tableNum:e.tableNumber})]}),Object(j.jsx)(p.a,{w:"100%",bg:"orange.200",d:"flex",display:"table-column",justifyContent:"justify-start",children:Object(j.jsx)(re,{children:function(e,t){return Object(j.jsx)(ee,{fontSize:"md",orderName:e,tableNum:t,showTable:!1})},trailingChild:Object(j.jsx)(_.a,{children:"DONE"}),trailingIcon:Object(j.jsx)(Z.c,{}),list:Object(oe.a)(e.table.filter((function(e){return e.orderStatus===Y.InProgress||e.orderStatus===Y.Preparing||e.orderStatus===Y.Ready}))),onClick:function(t){e.changeStatus(t,Y.Served)}})}),Object(j.jsx)(X.a,{variant:"dashed"}),Object(j.jsx)(p.a,{w:"100%",bg:"green.200",children:Object(j.jsx)(re,{children:function(e,t){return Object(j.jsx)(ee,{orderName:e,tableNum:t,showTable:!1,fontSize:"md"})},trailingChild:Object(j.jsx)(_.a,{children:"BACK"}),trailingIcon:Object(j.jsx)(Z.d,{}),list:Object(oe.a)(e.table.filter((function(e){return e.orderStatus===Y.Served}))),onClick:function(t){e.changeStatus(t,Y.Ready)}})})]}),Object(j.jsx)(I.a,{w:"full",mt:4,bg:"gray.900",color:"white",onClick:a,rounded:"md",_hover:{transform:"translateY(-2px)",boxShadow:"lg"},children:"PAY"}),Object(j.jsx)(Ae,{isOpen:c,table:e.table,toggleOpen:a,tableNum:e.tableNumber})]})})}function Ne(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],i=t[1],a=Object(c.useReducer)(Object(K.a)((function(e,t){switch(t.type){case Ce.INITIAL:void 0!==t.orders&&t.orders.forEach((function(t){var n=e.get(t.table);void 0!==n?n.push(t):e.set(t.table,[t])}));break;case Ce.ORDER_STATUS_CHANGED:if(void 0!==t.order){var n=e.get(t.order.table);if(void 0!==n){var c=n.findIndex((function(e){var n;return e.id===(null===(n=t.order)||void 0===n?void 0:n.id)}));n[c]=t.order}}break;case Ce.ADD_ORDER:void 0!==t.order&&void 0!==(n=e.get(t.order.table))&&n.push(t.order)}})),new Map,void 0),o=Object(f.a)(a,2),l=o[0],s=o[1],d=Object(c.useCallback)((function(e){s({type:Ce.ORDER_STATUS_CHANGED,order:e})}),[]),b=Object(c.useCallback)((function(e){s({type:Ce.INITIAL,orders:e})}),[]),u=Object(c.useCallback)((function(e){i(e),console.log(e)}),[]),O=Object(c.useCallback)((function(e){s({type:Ce.ADD_ORDER,order:e})}),[]),h=Object(c.useCallback)((function(e){console.log("visszajott a letrehozott"),console.log(e),e.forEach((function(e){O(e)}))}),[O]),x=r.a.useContext(A),p=Object(c.useCallback)((function(e,t){var n;null===x||void 0===x||null===(n=x.connection)||void 0===n||n.invoke("UpdateOrderStatus",{Id:e.id,OrderStatus:t})}),[x]);Object(c.useEffect)((function(){(null===x||void 0===x?void 0:x.connection)&&((null===x||void 0===x?void 0:x.connection.state)!==D.b.Connected&&(null===x||void 0===x||x.connection.start().then((function(){var e,t;null===x||void 0===x||null===(e=x.connection)||void 0===e||e.invoke("GetAllOrders"),null===x||void 0===x||null===(t=x.connection)||void 0===t||t.invoke("GetAllFoodDrink")}))),null===x||void 0===x||x.connection.on("AllOrders",(function(e){b(e)})),null===x||void 0===x||x.connection.on("OrderStatusUpdated",(function(e){d(e)})),null===x||void 0===x||x.connection.on("AllFoodDrinksHandler",(function(e){u(e)})),null===x||void 0===x||x.connection.on("AddNewOrdersHandler",(function(e){h(e)})),(null===x||void 0===x?void 0:x.connection.state)===D.b.Connected&&(null===x||void 0===x||x.connection.invoke("GetAllOrders"),null===x||void 0===x||x.connection.invoke("GetAllFoodDrink")))}),[null===x||void 0===x?void 0:x.connection,d,b,u,h]);var g=Object(c.useState)([]),v=Object(f.a)(g,2),S=v[0],y=v[1],C=Object(c.useState)(!0),w=Object(f.a)(C,2),k=w[0],I=w[1],N=function(){var e=k?1:-1,t=S.sort((function(t,n){return t.table>n.table?e:-1*e}));I(!k),y(t)};return Object(c.useEffect)((function(){var e=[];l.forEach((function(t,n){return e=e.concat(t.filter((function(e){return e.orderStatus===Y.Ready})))})),y(e)}),[l]),Object(j.jsxs)($.a,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(5, 1fr)",gap:4,children:[Object(j.jsx)($.b,{colSpan:4,bg:"papayawhip",p:2,children:Object(j.jsx)(ae.a,{children:Array.from(l).map((function(e){return Object(j.jsx)(De,{table:e[1],tableNumber:e[0],foodDrinks:n,addOrder:O,changeStatus:p},e[0])}))})}),Object(j.jsxs)($.b,{colSpan:1,bg:"tomato",children:[Object(j.jsxs)(m.a,{mx:1,children:[Object(j.jsx)(_.a,{my:3,mx:3,fontSize:"2xl",fontWeight:"bold",color:"grey.700",children:"Finished orders"}),k&&Object(j.jsx)(Z.b,{onClick:N}),!k&&Object(j.jsx)(Z.a,{onClick:N})]}),Object(j.jsx)(re,{children:function(e,t){return Object(j.jsx)(ee,{orderName:e,tableNum:t,showTable:!0,fontSize:"xl"})},trailingChild:Object(j.jsx)(_.a,{children:"DONE"}),trailingIcon:Object(j.jsx)(Z.d,{}),list:S,onClick:function(e){p(e,Y.Served)}})]})]})}!function(e){e.INITIAL="Initial",e.ORDER_STATUS_CHANGED="OrderStatusChanged",e.ADD_ORDER="AddOrder"}(Ce||(Ce={}));var Re=n(18),Ee=n(269),Te=n(256),Pe=n(257),ze=n(51),Le=Object(Re.a)(Z.i),Fe=Object(Re.a)(Z.g),Ue=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1],i=function(){return r(!n)};return Object(j.jsxs)(ne.a,{flexDirection:"column",width:"100wh",height:"100vh",backgroundColor:"gray.200",justifyContent:"center",alignItems:"center",children:[Object(j.jsx)(ze.c,{initialValues:{email:"",password:""},onSubmit:function(e,t){!function(e){E.apply(this,arguments)}(e),t.setSubmitting(!1)},children:function(e){var t=e.isSubmitting;return Object(j.jsxs)(le.b,{flexDir:"column",mb:"2",justifyContent:"center",alignItems:"center",children:[Object(j.jsx)(Ee.a,{bg:"teal.500"}),Object(j.jsx)(Te.a,{color:"teal.400",children:"Welcome"}),Object(j.jsx)(p.a,{minW:{base:"90%",md:"468px"},children:Object(j.jsx)(ze.b,{children:Object(j.jsxs)(le.b,{spacing:4,p:"1rem",backgroundColor:"whiteAlpha.900",boxShadow:"md",children:[Object(j.jsx)(ze.a,{name:"email",children:function(e){var t=e.field;return Object(j.jsx)(y.a,{children:Object(j.jsxs)(de.a,{children:[Object(j.jsx)(be.a,{pointerEvents:"none",children:Object(j.jsx)(Le,{color:"gray.300"})}),Object(j.jsx)(w.a,Object(x.a)(Object(x.a)({},t),{},{type:"email",placeholder:"email address"}))]})})}}),Object(j.jsx)(ze.a,{name:"password",children:function(e){var t=e.field;return Object(j.jsxs)(y.a,{children:[Object(j.jsxs)(de.a,{children:[Object(j.jsx)(be.a,{pointerEvents:"none",color:"gray.300",children:Object(j.jsx)(Fe,{color:"gray.300"})}),Object(j.jsx)(w.a,Object(x.a)(Object(x.a)({},t),{},{name:"password",type:n?"text":"password",placeholder:"Password"})),Object(j.jsx)(be.b,{width:"4.5rem",children:Object(j.jsx)(I.a,{h:"1.75rem",size:"sm",onClick:i,children:n?"Hide":"Show"})})]}),Object(j.jsx)(y.b,{textAlign:"right",children:Object(j.jsx)(Pe.a,{children:"forgot password?"})})]})}}),Object(j.jsx)(I.a,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",isLoading:t,children:"Login"})]})})})]})}}),Object(j.jsxs)(p.a,{children:["New to us?"," ",Object(j.jsx)(Pe.a,{color:"teal.500",href:"/registration",children:"Sign Up"})]})]})},We=n(107),_e=Object(Re.a)(Z.i),Ge=Object(Re.a)(Z.g),He=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1],i=function(){return r(!n)};return Object(j.jsxs)(ne.a,{flexDirection:"column",width:"100wh",height:"100vh",backgroundColor:"gray.200",justifyContent:"center",alignItems:"center",children:[Object(j.jsx)(ze.c,{initialValues:{restaurantName:"",email:"",password:""},onSubmit:function(e,t){!function(e){T.apply(this,arguments)}(e),console.log(e),t.setSubmitting(!1)},children:function(e){var t=e.isSubmitting;return Object(j.jsxs)(le.b,{flexDir:"column",mb:"2",justifyContent:"center",alignItems:"center",children:[Object(j.jsx)(Ee.a,{bg:"teal.500"}),Object(j.jsx)(Te.a,{color:"teal.400",children:"Welcome"}),Object(j.jsx)(p.a,{minW:{base:"90%",md:"468px"},children:Object(j.jsx)(ze.b,{children:Object(j.jsxs)(le.b,{spacing:4,p:"1rem",backgroundColor:"whiteAlpha.900",boxShadow:"md",children:[Object(j.jsx)(ze.a,{name:"restaurantName",children:function(e){var t=e.field;return Object(j.jsx)(y.a,{children:Object(j.jsxs)(de.a,{children:[Object(j.jsx)(be.a,{pointerEvents:"none",color:"gray.300",children:Object(j.jsx)(We.b,{color:"gray.300"})}),Object(j.jsx)(w.a,Object(x.a)(Object(x.a)({},t),{},{type:"text",placeholder:"Restaurant name"}))]})})}}),Object(j.jsx)(ze.a,{name:"email",children:function(e){var t=e.field;return Object(j.jsx)(y.a,{children:Object(j.jsxs)(de.a,{children:[Object(j.jsx)(be.a,{pointerEvents:"none",children:Object(j.jsx)(_e,{color:"gray.300"})}),Object(j.jsx)(w.a,Object(x.a)(Object(x.a)({},t),{},{type:"email",placeholder:"email address"}))]})})}}),Object(j.jsx)(ze.a,{name:"password",children:function(e){var t=e.field;return Object(j.jsx)(y.a,{children:Object(j.jsxs)(de.a,{children:[Object(j.jsx)(be.a,{pointerEvents:"none",color:"gray.300",children:Object(j.jsx)(Ge,{color:"gray.300"})}),Object(j.jsx)(w.a,Object(x.a)(Object(x.a)({},t),{},{type:n?"text":"password",placeholder:"Password"})),Object(j.jsx)(be.b,{width:"4.5rem",children:Object(j.jsx)(I.a,{h:"1.75rem",size:"sm",onClick:i,children:n?"Hide":"Show"})})]})})}}),Object(j.jsx)(I.a,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",isLoading:t,children:"Registration"})]})})})]})}}),Object(j.jsxs)(p.a,{children:["Already have an account?"," ",Object(j.jsx)(Pe.a,{color:"teal.500",href:"/login",children:"Login"})]})]})},Be=n(112),qe=n(167),Me=n(270),Ve=n(239),Je=n(87),Ye=n(158),$e=n(160),Ke=n(123),Ze=n(94),Qe="/",Xe="/restaurant",et="/management",tt="/waiter",nt="/kitchen",ct="/login",rt="/registration",it=["onClose"],at=["icon","children","link"],ot=["onOpen"],lt=[{name:"Home",icon:Ye.a,link:Xe},{name:"Management",icon:Ke.b,link:et},{name:"Waiter",icon:We.a,link:tt},{name:"Kitchen",icon:Ke.a,link:nt}];function st(e){var t=e.children,n=Object(W.a)(),c=n.isOpen,r=n.onOpen,i=n.onClose;return Object(j.jsxs)(p.a,{minH:"100vh",bg:Object(qe.c)("gray.100","gray.900"),children:[Object(j.jsx)(jt,{onClose:function(){return i},display:{base:"none",md:"block"}}),Object(j.jsx)(Me.a,{autoFocus:!1,isOpen:c,placement:"left",onClose:i,returnFocusOnClose:!1,onOverlayClick:i,size:"full",children:Object(j.jsx)(Me.b,{children:Object(j.jsx)(jt,{onClose:i})})}),Object(j.jsx)(bt,{display:{base:"flex",md:"none"},onOpen:r}),Object(j.jsx)(p.a,{ml:{base:0,md:60},p:"4",children:t})]})}var jt=function(e){var t=e.onClose,n=Object(Be.a)(e,it);return Object(j.jsxs)(p.a,Object(x.a)(Object(x.a)({bg:Object(qe.c)("white","gray.900"),borderRight:"1px",borderRightColor:Object(qe.c)("gray.200","gray.700"),w:{base:"full",md:60},pos:"fixed",h:"full"},n),{},{children:[Object(j.jsxs)(ne.a,{h:"20",alignItems:"center",mx:"8",justifyContent:"space-between",children:[Object(j.jsx)(_.a,{fontSize:"2xl",fontFamily:"monospace",fontWeight:"bold",children:"Logo"}),Object(j.jsx)(Ve.a,{display:{base:"flex",md:"none"},onClick:t})]}),lt.map((function(e){return Object(j.jsx)(dt,{icon:e.icon,link:e.link,children:e.name},e.name)}))]}))},dt=function(e){var t=e.icon,n=e.children,c=e.link,r=Object(Be.a)(e,at);return Object(j.jsx)(Ze.a,{to:c,style:{textDecoration:"none"},children:Object(j.jsxs)(ne.a,Object(x.a)(Object(x.a)({align:"center",p:"4",mx:"4",borderRadius:"lg",role:"group",cursor:"pointer",_hover:{bg:"cyan.400",color:"white"}},r),{},{children:[t&&Object(j.jsx)(Je.a,{mr:"4",fontSize:"16",_groupHover:{color:"white"},as:t}),n]}))})},bt=function(e){var t=e.onOpen,n=Object(Be.a)(e,ot);return Object(j.jsxs)(ne.a,Object(x.a)(Object(x.a)({ml:{base:0,md:60},px:{base:4,md:24},height:"20",alignItems:"center",bg:Object(qe.c)("white","gray.900"),borderBottomWidth:"1px",borderBottomColor:Object(qe.c)("gray.200","gray.700"),justifyContent:"flex-start"},n),{},{children:[Object(j.jsx)(ue.a,{variant:"outline",onClick:t,"aria-label":"open menu",icon:Object(j.jsx)($e.a,{})}),Object(j.jsx)(_.a,{fontSize:"2xl",ml:"8",fontFamily:"monospace",fontWeight:"bold",children:"Logo"})]}))},ut=function(e){return Object(j.jsx)(c.Fragment,{children:Object(j.jsx)(st,{children:e.children})})};var Ot=function(){var e={restaurantId:1,connection:(new D.a).withUrl("http://localhost:5000/restauranthub",{accessTokenFactory:function(){return P().toString()}}).withAutomaticReconnect().configureLogging(D.c.Debug).build()};return Object(j.jsx)(A.Provider,{value:e,children:Object(j.jsx)(ut,{children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:Qe,exact:!0,children:Object(j.jsx)(l.a,{to:Xe})}),Object(j.jsx)(l.b,{path:Xe,exact:!0,children:Object(j.jsx)(d,{})}),Object(j.jsx)(l.b,{path:et,render:function(e){return null!==P()?Object(j.jsx)(J,{}):Object(j.jsx)(l.a,{to:"/login"})}}),Object(j.jsx)(l.b,{path:nt,render:function(e){return null!==P()?Object(j.jsx)(ie,{}):Object(j.jsx)(l.a,{to:"/login"})}}),Object(j.jsx)(l.b,{path:tt,render:function(e){return null!==P()?Object(j.jsx)(Ne,{}):Object(j.jsx)(l.a,{to:"/login"})}}),Object(j.jsx)(l.b,{path:ct,children:Object(j.jsx)(Ue,{})}),Object(j.jsx)(l.b,{path:rt,children:Object(j.jsx)(He,{})}),Object(j.jsx)(l.b,{path:"*",children:Object(j.jsx)("div",{children:"NOTHING TO SEE HERE PAGE"})})]})})})};Object(K.b)();var ht=Object(s.a)();var xt=function(){return Object(j.jsx)(o.a,{children:Object(j.jsx)(l.c,{history:ht,children:Object(j.jsx)(Ot,{})})})},ft=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,271)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(xt,{})}),document.getElementById("root")),ft()}},[[213,1,2]]]);
//# sourceMappingURL=main.2c831b0e.chunk.js.map