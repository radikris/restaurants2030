(this.webpackJsonprestaurants2030=this.webpackJsonprestaurants2030||[]).push([[0],{153:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(70),a=n.n(i),o=(n(153),n(202)),l=n(69),s=n(21),j=n(3);function b(){return Object(j.jsx)("div",{children:"RESTAURANT N\xc9ZET"})}function d(){return Object(j.jsx)("div",{children:"MANAGEMENT N\xc9ZET"})}function u(){return Object(j.jsx)("div",{children:"KITCHEN N\xc9ZET"})}var O=n(7),h=n(199),x=n(190),f=n(182),p=n(195),m=n(19),g=n(180),v=n(205),y=n(198),S=n(191),C=n(132),w=(n(110),n(41)),k=n(183),N=n(65);function R(e){return Object(j.jsx)(k.a,{children:Object(j.jsx)(N.SwipeableList,{fullSwipe:!0,style:{backgroundColor:"orange.200"},type:N.Type.ANDROID,threshold:.5,children:e.list.map((function(t){return Object(j.jsx)(N.SwipeableListItem,{trailingActions:(n=t,c=e.onClick,Object(j.jsx)(N.TrailingActions,{children:Object(j.jsx)(N.SwipeAction,{destructive:!0,onClick:function(){c(n)},children:Object(j.jsx)(g.a,{bg:"red.200",children:Object(j.jsxs)(f.a,{justifyContent:"justify-center",display:"row",d:"flex",px:"1",children:[e.icon,e.swipeChild]})})})})),children:e.children(t.name,t.table)},t.id);var n,c}))})})}var E=n(24),A=n(201),I=n(203),T=n(192),D=n(193),z=n(206),L=n(196),P=n(194),_=n(197),F=n(184);function B(e){return Object(j.jsx)(v.a,{spacing:4,children:Object(j.jsxs)(F.a,{size:"md",borderRadius:"full",variant:"solid",colorScheme:"orange",children:[Object(j.jsx)(F.c,{children:e.title}),Object(j.jsx)(F.b,{onClick:function(){return e.onClose(e.id)}})]},e.id)})}var H=[{id:1,title:"Valami leves",price:10,quantity:0},{id:2,title:"F\u0151zel\xe9k tes",price:21,quantity:0},{id:3,title:"T\xe9sztaaaa is van",price:32,quantity:0},{id:4,title:"Csirke=chicken",price:43,quantity:0}],q=function(e){var t=r.a.useState([]),n=Object(O.a)(t,2),c=n[0],i=n[1],a=r.a.useState(H),o=Object(O.a)(a,2),l=o[0],s=o[1],b=function(e,t){var n=l.findIndex((function(t){return t.id===e})),c=Object(E.a)({},l[n]);c.quantity=c.quantity+t;var r=l;r[n]=c,s(r)},d=function(e){var t=c.findIndex((function(t){return t.id===e}));i(c.filter((function(e,n){return n!==t}))),b(e,-1)};return Object(j.jsxs)(A.a,{children:[Object(j.jsx)(A.f,{children:Object(j.jsx)(C.a,{colorScheme:"orange",size:"xs",children:Object(j.jsx)(w.e,{})})}),Object(j.jsx)(I.a,{children:Object(j.jsxs)(A.d,{children:[Object(j.jsx)(A.b,{}),Object(j.jsxs)(A.c,{children:[Object(j.jsx)(x.a,{children:c.map((function(e){return Object(j.jsx)(B,{title:e.title,id:e.id,onClose:d})}))}),Object(j.jsx)(S.a,{my:1}),Object(j.jsx)(g.a,{children:Object(j.jsxs)(v.b,{children:[Object(j.jsxs)(T.a,{children:[Object(j.jsx)(D.a,{pointerEvents:"none",children:Object(j.jsx)(P.a,{color:"gray.300"})}),Object(j.jsx)(z.a,{type:"text",placeholder:"Search for orders...",onChange:function(e){var t=e.target.value;s(l.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}))),0!==l.length&&0!==t.trim().length||s(H)}})]}),Object(j.jsx)(C.a,{my:2,colorScheme:"red",size:"xs",onClick:function(){i([]),l.map((function(e){return e.quantity=0})),s(l)},variant:"outline",children:"REMOVE ALL ORDERS"}),l.map((function(e){return Object(j.jsxs)(g.a,{w:"full",display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(j.jsx)(p.a,{children:e.title}),Object(j.jsx)(g.a,{zIndex:1,children:Object(j.jsx)(L.a,{position:"relative",size:"sm",onClick:function(){return function(e){i([].concat(Object(m.a)(c),[e])),b(e.id,1)}(e)},"aria-label":"Add menu",icon:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_.a,{}),null!=e.quantity&&e.quantity>0&&Object(j.jsx)(y.a,{position:"absolute",top:"-5px",right:"-5px",colorScheme:"red",children:e.quantity})]})})})]})}))]})})]}),Object(j.jsx)(A.e,{children:Object(j.jsx)(f.a,{children:Object(j.jsx)(C.a,{colorScheme:"teal",variant:"outline",onClick:function(){c.forEach((function(t){e.addNewOrders({id:t.id,table:e.tableNum,name:t.title,price:t.price,orderStatus:ee.InProgress})})),i([])},children:"ADD ORDERS"})})})]})})]})};function U(e){return Object(j.jsxs)(g.a,{flexGrow:1,mx:2,children:[Object(j.jsxs)(g.a,{display:"flex",justifyContent:"space-between",children:[Object(j.jsx)(p.a,{fontSize:e.fontSize,fontWeight:"bold",children:e.orderName}),e.showTable&&Object(j.jsxs)(y.a,{my:"1",fontSize:"0.8em",colorScheme:"green",variant:"solid",children:["TABLE ",e.tableNum]})]}),Object(j.jsx)(S.a,{})]})}var W=n(43),G=n(207),M=n(122),Y=function(e){var t=Object(G.a)(e),n=t.getInputProps,c=t.getCheckboxProps,r=n(),i=c();return Object(j.jsxs)(g.a,{as:"label",children:[Object(j.jsx)("input",Object(E.a)(Object(E.a)({},r),{},{onClick:function(){return console.log(e.label)}})),Object(j.jsx)(g.a,Object(E.a)(Object(E.a)({},i),{},{cursor:"pointer",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{bg:"teal.600",color:"white",borderColor:"teal.600"},_focus:{boxShadow:"outline"},px:5,py:3,children:e.children}))]})};function K(){var e=Object(M.a)({name:"framework",defaultValue:"react",onChange:console.log}),t=e.getRootProps,n=e.getRadioProps,c=t();return Object(j.jsx)(v.a,Object(E.a)(Object(E.a)({},c),{},{children:["Cash","BankCard"].map((function(e){var t=n({value:e});return Object(j.jsx)(Y,Object(E.a)(Object(E.a)({label:e},t),{},{children:e}),e)}))}))}var V=new Intl.NumberFormat("hu-HU",{style:"currency",currency:"HUF"});function Z(e){return Object(j.jsxs)(g.a,{children:[e.orders.map((function(t){return Object(j.jsxs)(g.a,{display:"flex",w:"full",justifyContent:"space-between",alignContent:"center",alignItems:"center",my:1,children:[Object(j.jsxs)(g.a,{display:"flex",w:"full",justifyContent:"space-between",mr:e.isSplitBill?3:0,children:[Object(j.jsx)(p.a,{children:t.name}),Object(j.jsx)(p.a,{children:V.format(t.price)})]}),e.isSplitBill&&Object(j.jsx)(C.a,{onClick:function(){return e.moveOrder(t.id)},colorScheme:"orange",variant:"outline",size:"sm",children:e.buttonText})]})})),Object(j.jsxs)(g.a,{w:"full",border:1,display:"flex",bg:"green.300",justifyContent:"space-between",children:[Object(j.jsx)(p.a,{fontWeight:"bold",children:"Total amount:"}),Object(j.jsx)(p.a,{fontWeight:"extrabold",children:V.format(e.orders.reduce((function(e,t){return+e+t.price}),0))})]})]})}function J(e){var t=Object(c.useState)(!1),n=Object(O.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(e.table),o=Object(O.a)(a,2),l=o[0],s=o[1],b=Object(c.useState)([]),d=Object(O.a)(b,2),u=d[0],x=d[1];return Object(j.jsxs)(h.a,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(3, 1fr)",gap:4,children:[Object(j.jsxs)(h.b,{colSpan:1,bg:"papayawhip",p:2,children:[Object(j.jsx)(Z,{orders:l,moveOrder:function(e){var t=l.findIndex((function(t){return t.id===e})),n=l[t];s(l.filter((function(e,n){return n!==t}))),x([].concat(Object(m.a)(u),[n])),console.log("tosplit")},isSplitBill:r,buttonText:"SPLIT"}),!r&&Object(j.jsx)(f.a,{children:Object(j.jsx)(C.a,{children:"PAY"})})]}),Object(j.jsx)(h.b,{colSpan:1,bg:"papayawhip",p:2,children:Object(j.jsx)(f.a,{children:Object(j.jsxs)(v.b,{display:"flex",w:"full",children:[Object(j.jsxs)(C.a,{colorScheme:"orange",size:"xl",onClick:function(){i((function(e){return!e})),s([].concat(Object(m.a)(l),Object(m.a)(u))),x([])},p:1,children:[!r&&Object(j.jsx)(p.a,{mx:1,children:"Do you want to split the bill?"}),r&&Object(j.jsx)(p.a,{mx:1,children:"Back to only normal bill"}),Object(j.jsx)(w.e,{})]}),r&&Object(j.jsxs)(g.a,{w:"full",color:"blue.800",children:[Object(j.jsx)(Z,{orders:u,moveOrder:function(e){var t=u.findIndex((function(t){return t.id===e})),n=u[t];x(u.filter((function(e,n){return n!==t}))),s([].concat(Object(m.a)(l),[n])),console.log("tonormal")},isSplitBill:r,buttonText:"UNDO"}),Object(j.jsx)(f.a,{children:Object(j.jsx)(C.a,{children:"PAY"})})]})]})})}),Object(j.jsx)(h.b,{colSpan:1,children:Object(j.jsx)(K,{})})]})}function Q(e){return Object(j.jsxs)(W.a,{onClose:e.toggleOpen,size:"full",isOpen:e.isOpen,children:[Object(j.jsx)(W.h,{}),Object(j.jsxs)(W.d,{children:[Object(j.jsxs)(W.g,{children:["Payment for TABLE",e.tableNum," "]}),Object(j.jsx)(W.c,{}),Object(j.jsx)(W.b,{children:Object(j.jsx)(J,{table:e.table})}),Object(j.jsx)(W.f,{children:Object(j.jsx)(C.a,{onClick:e.toggleOpen,children:"Close"})})]})]})}function X(e){var t=r.a.useState(!1),n=Object(O.a)(t,2),c=n[0],i=n[1],a=function(){i((function(e){return!e}))};return Object(j.jsx)(g.a,{maxW:"270px",w:"full",bg:"whiteAlpha.900",boxShadow:"2xl",rounded:"md",overflow:"hidden",m:"3",_hover:{transform:"scale(1.2)",boxShadow:"lg",borderColor:"grey.900"},children:Object(j.jsxs)(g.a,{p:6,children:[Object(j.jsxs)(v.b,{spacing:"2px",children:[Object(j.jsxs)(h.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(j.jsx)(g.a,{}),Object(j.jsxs)(y.a,{fontSize:"md",mb:1,mr:3,children:["Table ",e.tableNumber]}),Object(j.jsx)(q,{addNewOrders:e.addOrder,tableNum:e.tableNumber})]}),Object(j.jsx)(g.a,{w:"100%",bg:"orange.200",d:"flex",display:"table-column",justifyContent:"justify-start",children:Object(j.jsx)(R,{children:function(e,t){return Object(j.jsx)(U,{fontSize:"md",orderName:e,tableNum:t,showTable:!1})},swipeChild:Object(j.jsx)(p.a,{children:"DONE"}),icon:Object(j.jsx)(w.c,{}),list:Object(m.a)(e.table.filter((function(e){return e.orderStatus===ee.InProgress||e.orderStatus===ee.Ready}))),onClick:function(t){e.changeStatus(t,ee.Served)}})}),Object(j.jsx)(S.a,{variant:"dashed"}),Object(j.jsx)(g.a,{w:"100%",bg:"green.200",children:Object(j.jsx)(R,{children:function(e,t){return Object(j.jsx)(U,{orderName:e,tableNum:t,showTable:!1,fontSize:"md"})},swipeChild:Object(j.jsx)(p.a,{children:"BACK"}),icon:Object(j.jsx)(w.d,{}),list:Object(m.a)(e.table.filter((function(e){return e.orderStatus===ee.Served}))),onClick:function(t){e.changeStatus(t,ee.Ready)}})})]}),Object(j.jsx)(C.a,{w:"full",mt:4,bg:"gray.900",color:"white",onClick:a,rounded:"md",_hover:{transform:"translateY(-2px)",boxShadow:"lg"},children:"PAY"}),Object(j.jsx)(Q,{isOpen:c,table:e.table,toggleOpen:a,tableNum:e.tableNumber})]})})}var $,ee,te=n(87),ne=n(104);function ce(){var e=Object(c.useReducer)(Object(te.a)((function(e,t){switch(t.type){case $.INITIAL:void 0!==t.orders&&t.orders.forEach((function(t){var n=e.get(t.table);void 0!==n?n.push(t):e.set(t.table,[t])}));break;case $.ORDER_STATUS_CHANGED:if(void 0!==t.order){var n=e.get(t.order.table);if(void 0!==n){var c=n.findIndex((function(e){var n;return e.id===(null===(n=t.order)||void 0===n?void 0:n.id)}));n[c]=t.order}}break;case $.ADD_ORDER:void 0!==t.order&&void 0!==(n=e.get(t.order.table))&&n.push(t.order)}})),new Map,void 0),t=Object(O.a)(e,2),n=t[0],r=t[1],i=Object(c.useCallback)((function(e){r({type:$.ORDER_STATUS_CHANGED,order:e})}),[]),a=Object(c.useCallback)((function(e){r({type:$.INITIAL,orders:e})}),[]),o=Object(c.useCallback)((function(e){r({type:$.ADD_ORDER,order:e})}),[]),l=Object(c.useState)(null),s=Object(O.a)(l,2),b=s[0],d=s[1];Object(c.useEffect)((function(){var e=(new ne.a).withUrl("http://localhost:5000/restauranthub").withAutomaticReconnect().configureLogging(ne.b.Debug).build();d(e)}),[]);var u=Object(c.useCallback)((function(e,t){null===b||void 0===b||b.invoke("UpdateOrderStatus",{Id:e.id,OrderStatus:t})}),[b]);Object(c.useEffect)((function(){b&&b.start().then((function(){b.on("AllOrders",(function(e){a(e)})),b.on("OrderStatusUpdated",(function(e){i(e)})),b.invoke("GetAllOrders",{RestaurantId:1})})).catch((function(e){return console.log(e)}))}),[b,i,a]);var m=Object(c.useState)([]),g=Object(O.a)(m,2),v=g[0],y=g[1],S=Object(c.useState)(!0),C=Object(O.a)(S,2),k=C[0],N=C[1],E=function(){var e=k?1:-1,t=v.sort((function(t,n){return t.table>n.table?e:-1*e}));console.log(k),N(!k),y(t)};return Object(c.useEffect)((function(){var e=[];n.forEach((function(t,n){return e=e.concat(t.filter((function(e){return e.orderStatus===ee.InProgress||e.orderStatus===ee.Ready})))})),y(e)}),[n]),Object(j.jsxs)(h.a,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(5, 1fr)",gap:4,children:[Object(j.jsx)(h.b,{colSpan:4,bg:"papayawhip",p:2,children:Object(j.jsx)(x.a,{children:Array.from(n).map((function(e){return Object(j.jsx)(X,{table:e[1],tableNumber:e[0],addOrder:o,changeStatus:u},e[0])}))})}),Object(j.jsxs)(h.b,{colSpan:1,bg:"tomato",children:[Object(j.jsxs)(f.a,{mx:1,children:[Object(j.jsx)(p.a,{my:3,mx:3,fontSize:"2xl",fontWeight:"bold",color:"grey.700",children:"Finished orders"}),k&&Object(j.jsx)(w.b,{onClick:E}),!k&&Object(j.jsx)(w.a,{onClick:E})]}),Object(j.jsx)(R,{children:function(e,t){return Object(j.jsx)(U,{orderName:e,tableNum:t,showTable:!0,fontSize:"xl"})},swipeChild:Object(j.jsx)(p.a,{children:"DONE"}),icon:Object(j.jsx)(w.d,{}),list:v,onClick:function(e){u(e,ee.Served)}})]})]})}!function(e){e.INITIAL="Initial",e.ORDER_STATUS_CHANGED="OrderStatusChanged",e.ADD_ORDER="AddOrder"}($||($={})),function(e){e[e.InProgress=0]="InProgress",e[e.Ready=1]="Ready",e[e.Served=2]="Served"}(ee||(ee={}));var re=n(92),ie=n(185),ae=n(135),oe=n(208),le=n(188),se=n(93),je=n(124),be=n(127),de=n(125),ue=n(102),Oe="/",he="/restaurant",xe="/management",fe="/waiter",pe="/kitchen",me=["onClose"],ge=["icon","children","link"],ve=["onOpen"],ye=[{name:"Home",icon:je.a,link:he},{name:"Management",icon:ue.b,link:xe},{name:"Waiter",icon:de.a,link:fe},{name:"Kitchen",icon:ue.a,link:pe}];function Se(e){var t=e.children,n=Object(ie.a)(),c=n.isOpen,r=n.onOpen,i=n.onClose;return Object(j.jsxs)(g.a,{minH:"100vh",bg:Object(ae.c)("gray.100","gray.900"),children:[Object(j.jsx)(Ce,{onClose:function(){return i},display:{base:"none",md:"block"}}),Object(j.jsx)(oe.a,{autoFocus:!1,isOpen:c,placement:"left",onClose:i,returnFocusOnClose:!1,onOverlayClick:i,size:"full",children:Object(j.jsx)(oe.b,{children:Object(j.jsx)(Ce,{onClose:i})})}),Object(j.jsx)(ke,{display:{base:"flex",md:"none"},onOpen:r}),Object(j.jsx)(g.a,{ml:{base:0,md:60},p:"4",children:t})]})}var Ce=function(e){var t=e.onClose,n=Object(re.a)(e,me);return Object(j.jsxs)(g.a,Object(E.a)(Object(E.a)({bg:Object(ae.c)("white","gray.900"),borderRight:"1px",borderRightColor:Object(ae.c)("gray.200","gray.700"),w:{base:"full",md:60},pos:"fixed",h:"full"},n),{},{children:[Object(j.jsxs)(k.a,{h:"20",alignItems:"center",mx:"8",justifyContent:"space-between",children:[Object(j.jsx)(p.a,{fontSize:"2xl",fontFamily:"monospace",fontWeight:"bold",children:"Logo"}),Object(j.jsx)(le.a,{display:{base:"flex",md:"none"},onClick:t})]}),ye.map((function(e){return Object(j.jsx)(we,{icon:e.icon,link:e.link,children:e.name},e.name)}))]}))},we=function(e){var t=e.icon,n=e.children,c=e.link,r=Object(re.a)(e,ge);return Object(j.jsx)(l.b,{to:c,style:{textDecoration:"none"},children:Object(j.jsxs)(k.a,Object(E.a)(Object(E.a)({align:"center",p:"4",mx:"4",borderRadius:"lg",role:"group",cursor:"pointer",_hover:{bg:"cyan.400",color:"white"}},r),{},{children:[t&&Object(j.jsx)(se.a,{mr:"4",fontSize:"16",_groupHover:{color:"white"},as:t}),n]}))})},ke=function(e){var t=e.onOpen,n=Object(re.a)(e,ve);return Object(j.jsxs)(k.a,Object(E.a)(Object(E.a)({ml:{base:0,md:60},px:{base:4,md:24},height:"20",alignItems:"center",bg:Object(ae.c)("white","gray.900"),borderBottomWidth:"1px",borderBottomColor:Object(ae.c)("gray.200","gray.700"),justifyContent:"flex-start"},n),{},{children:[Object(j.jsx)(L.a,{variant:"outline",onClick:t,"aria-label":"open menu",icon:Object(j.jsx)(be.a,{})}),Object(j.jsx)(p.a,{fontSize:"2xl",ml:"8",fontFamily:"monospace",fontWeight:"bold",children:"Logo"})]}))},Ne=function(e){return Object(j.jsx)(c.Fragment,{children:Object(j.jsx)(Se,{children:e.children})})};var Re=function(){return Object(j.jsx)(Ne,{children:Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{path:Oe,exact:!0,children:Object(j.jsx)(s.a,{to:he})}),Object(j.jsx)(s.b,{path:he,exact:!0,children:Object(j.jsx)(b,{})}),Object(j.jsx)(s.b,{path:xe,children:Object(j.jsx)(d,{})}),Object(j.jsx)(s.b,{path:pe,children:Object(j.jsx)(u,{})}),Object(j.jsx)(s.b,{path:fe,children:Object(j.jsx)(ce,{})}),Object(j.jsx)(s.b,{path:"*",children:Object(j.jsx)("div",{children:"NOTHING TO SEE HERE PAGE"})})]})})};Object(te.b)();var Ee=function(){return Object(j.jsx)(o.a,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(Re,{})})})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(Ee,{})}),document.getElementById("root")),Ae()}},[[166,1,2]]]);
//# sourceMappingURL=main.d3898d49.chunk.js.map