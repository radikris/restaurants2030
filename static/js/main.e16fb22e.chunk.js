(this.webpackJsonprestaurants2030=this.webpackJsonprestaurants2030||[]).push([[0],{144:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(68),a=n.n(i),o=(n(144),n(194)),s=n(67),l=n(19),j=n(4);function d(){return Object(j.jsx)("div",{children:"RESTAURANT N\xc9ZET"})}function b(){return Object(j.jsx)("div",{children:"MANAGEMENT N\xc9ZET"})}function u(){return Object(j.jsx)("div",{children:"KITCHEN N\xc9ZET"})}var O=n(8),h=n(190),x=n(181),f=n(174),p=n(186),m=n(21),g=n(172),v=n(197),y=n(189),S=n(182),C=n(125),w=(n(104),n(46)),k=n(175),E=n(62);function R(e){return Object(j.jsx)(k.a,{children:Object(j.jsx)(E.SwipeableList,{fullSwipe:!0,style:{backgroundColor:"orange.200"},type:E.Type.ANDROID,threshold:.5,children:e.list.map((function(t){return Object(j.jsx)(E.SwipeableListItem,{trailingActions:(n=t,c=e.onClick,Object(j.jsx)(E.TrailingActions,{children:Object(j.jsx)(E.SwipeAction,{destructive:!0,onClick:function(){c(n)},children:Object(j.jsx)(g.a,{bg:"red.200",children:Object(j.jsxs)(f.a,{justifyContent:"justify-center",display:"row",d:"flex",px:"1",children:[e.icon,e.swipeChild]})})})})),children:e.children(t.name,t.table)},t.id);var n,c}))})})}var A=n(48),N=n(192),I=n(196),T=n(183),D=n(184),z=n(195),L=n(187),_=n(185),F=n(188),q=n(176);function H(e){return Object(j.jsx)(v.a,{spacing:4,children:Object(j.jsxs)(q.a,{size:"md",borderRadius:"full",variant:"solid",colorScheme:"orange",children:[Object(j.jsx)(q.c,{children:e.title}),Object(j.jsx)(q.b,{onClick:function(){return e.onClose(e.id)}})]},e.id)})}var P=[{id:1,title:"Valami leves",price:10,quantity:0},{id:2,title:"F\u0151zel\xe9k tes",price:21,quantity:0},{id:3,title:"T\xe9sztaaaa is van",price:32,quantity:0},{id:4,title:"Csirke=chicken",price:43,quantity:0}],G=function(e){var t=r.a.useState([]),n=Object(O.a)(t,2),c=n[0],i=n[1],a=r.a.useState(P),o=Object(O.a)(a,2),s=o[0],l=o[1],d=function(e,t){var n=s.findIndex((function(t){return t.id===e})),c=Object(A.a)({},s[n]);c.quantity=c.quantity+t;var r=s;r[n]=c,l(r)},b=function(e){var t=c.findIndex((function(t){return t.id===e}));i(c.filter((function(e,n){return n!==t}))),d(e,-1)};return Object(j.jsxs)(N.a,{children:[Object(j.jsx)(N.f,{children:Object(j.jsx)(C.a,{colorScheme:"orange",size:"xs",children:Object(j.jsx)(w.e,{})})}),Object(j.jsx)(I.a,{children:Object(j.jsxs)(N.d,{children:[Object(j.jsx)(N.b,{}),Object(j.jsxs)(N.c,{children:[Object(j.jsx)(x.a,{children:c.map((function(e){return Object(j.jsx)(H,{title:e.title,id:e.id,onClose:b})}))}),Object(j.jsx)(S.a,{my:1}),Object(j.jsx)(g.a,{children:Object(j.jsxs)(v.b,{children:[Object(j.jsxs)(T.a,{children:[Object(j.jsx)(D.a,{pointerEvents:"none",children:Object(j.jsx)(_.a,{color:"gray.300"})}),Object(j.jsx)(z.a,{type:"text",placeholder:"Search for orders...",onChange:function(e){var t=e.target.value;l(s.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}))),0!==s.length&&0!==t.trim().length||l(P)}})]}),Object(j.jsx)(C.a,{my:2,colorScheme:"red",size:"xs",onClick:function(){i([]),s.map((function(e){return e.quantity=0})),l(s)},variant:"outline",children:"REMOVE ALL ORDERS"}),s.map((function(e){return Object(j.jsxs)(g.a,{w:"full",display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(j.jsx)(p.a,{children:e.title}),Object(j.jsx)(g.a,{zIndex:1,children:Object(j.jsx)(L.a,{position:"relative",size:"sm",onClick:function(){return function(e){i([].concat(Object(m.a)(c),[e])),d(e.id,1)}(e)},"aria-label":"Add menu",icon:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),null!=e.quantity&&e.quantity>0&&Object(j.jsx)(y.a,{position:"absolute",top:"-5px",right:"-5px",colorScheme:"red",children:e.quantity})]})})})]})}))]})})]}),Object(j.jsx)(N.e,{children:Object(j.jsx)(f.a,{children:Object(j.jsx)(C.a,{colorScheme:"teal",variant:"outline",onClick:function(){c.forEach((function(t){e.addNewOrders({id:t.id,table:e.tableNum,name:t.title,price:t.price,orderStatus:M.InProgress})})),i([])},children:"ADD ORDERS"})})})]})})]})};function U(e){return Object(j.jsxs)(g.a,{flexGrow:1,mx:2,children:[Object(j.jsxs)(g.a,{display:"flex",justifyContent:"space-between",children:[Object(j.jsx)(p.a,{fontSize:e.fontSize,fontWeight:"bold",children:e.orderName}),e.showTable&&Object(j.jsxs)(y.a,{my:"1",fontSize:"0.8em",colorScheme:"green",variant:"solid",children:["TABLE ",e.tableNum]})]}),Object(j.jsx)(S.a,{})]})}function W(e){return Object(j.jsx)(g.a,{maxW:"270px",w:"full",bg:"whiteAlpha.900",boxShadow:"2xl",rounded:"md",overflow:"hidden",m:"3",_hover:{transform:"scale(1.2)",boxShadow:"lg",borderColor:"grey.900"},children:Object(j.jsxs)(g.a,{p:6,children:[Object(j.jsxs)(v.b,{spacing:"2px",children:[Object(j.jsxs)(h.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(j.jsx)(g.a,{}),Object(j.jsxs)(y.a,{fontSize:"md",mb:1,mr:3,children:["Table ",e.tableNumber]}),Object(j.jsx)(G,{addNewOrders:e.addOrder,tableNum:e.tableNumber})]}),Object(j.jsx)(g.a,{w:"100%",bg:"orange.200",d:"flex",display:"table-column",justifyContent:"justify-start",children:Object(j.jsx)(R,{children:function(e,t){return Object(j.jsx)(U,{fontSize:"md",orderName:e,tableNum:t,showTable:!1})},swipeChild:Object(j.jsx)(p.a,{children:"DONE"}),icon:Object(j.jsx)(w.c,{}),list:Object(m.a)(e.table.filter((function(e){return e.orderStatus===M.InProgress||e.orderStatus===M.Ready}))),onClick:function(t){e.changeStatus(t,M.Served)}})}),Object(j.jsx)(S.a,{variant:"dashed"}),Object(j.jsx)(g.a,{w:"100%",bg:"green.200",children:Object(j.jsx)(R,{children:function(e,t){return Object(j.jsx)(U,{orderName:e,tableNum:t,showTable:!1,fontSize:"md"})},swipeChild:Object(j.jsx)(p.a,{children:"BACK"}),icon:Object(j.jsx)(w.d,{}),list:Object(m.a)(e.table.filter((function(e){return e.orderStatus===M.Served}))),onClick:function(t){e.changeStatus(t,M.Ready)}})})]}),Object(j.jsx)(C.a,{w:"full",mt:4,bg:"gray.900",color:"white",rounded:"md",_hover:{transform:"translateY(-2px)",boxShadow:"lg"},children:"PAY"})]})})}var B,M,K=n(83),Z=n(100);function J(){var e=Object(c.useReducer)(Object(K.a)((function(e,t){switch(t.type){case B.INITIAL:void 0!==t.orders&&t.orders.forEach((function(t){var n=e.get(t.table);void 0!==n?n.push(t):e.set(t.table,[t])}));break;case B.ORDER_STATUS_CHANGED:if(void 0!==t.order){var n=e.get(t.order.table);if(void 0!==n){var c=n.findIndex((function(e){var n;return e.id===(null===(n=t.order)||void 0===n?void 0:n.id)}));n[c]=t.order}}break;case B.ADD_ORDER:void 0!==t.order&&void 0!==(n=e.get(t.order.table))&&n.push(t.order)}})),new Map,void 0),t=Object(O.a)(e,2),n=t[0],r=t[1],i=Object(c.useCallback)((function(e){r({type:B.ORDER_STATUS_CHANGED,order:e})}),[]),a=Object(c.useCallback)((function(e){r({type:B.INITIAL,orders:e})}),[]),o=Object(c.useCallback)((function(e){r({type:B.ADD_ORDER,order:e})}),[]),s=Object(c.useState)(null),l=Object(O.a)(s,2),d=l[0],b=l[1];Object(c.useEffect)((function(){var e=(new Z.a).withUrl("http://localhost:5000/restauranthub").withAutomaticReconnect().configureLogging(Z.b.Debug).build();b(e)}),[]);var u=Object(c.useCallback)((function(e,t){null===d||void 0===d||d.invoke("UpdateOrderStatus",{Id:e.id,OrderStatus:t})}),[d]);Object(c.useEffect)((function(){d&&d.start().then((function(){d.on("AllOrders",(function(e){a(e)})),d.on("OrderStatusUpdated",(function(e){i(e)})),d.invoke("GetAllOrders",{RestaurantId:1})})).catch((function(e){return console.log(e)}))}),[d,i,a]);var m=Object(c.useState)([]),g=Object(O.a)(m,2),v=g[0],y=g[1],S=Object(c.useState)(!0),C=Object(O.a)(S,2),k=C[0],E=C[1],A=function(){var e=k?1:-1,t=v.sort((function(t,n){return t.table>n.table?e:-1*e}));console.log(k),E(!k),y(t)};return Object(c.useEffect)((function(){var e=[];n.forEach((function(t,n){return e=e.concat(t.filter((function(e){return e.orderStatus===M.InProgress||e.orderStatus===M.Ready})))})),y(e)}),[n]),Object(j.jsxs)(h.a,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(5, 1fr)",gap:4,children:[Object(j.jsx)(h.b,{colSpan:4,bg:"papayawhip",p:2,children:Object(j.jsx)(x.a,{children:Array.from(n).map((function(e){return Object(j.jsx)(W,{table:e[1],tableNumber:e[0],addOrder:o,changeStatus:u},e[0])}))})}),Object(j.jsxs)(h.b,{colSpan:1,bg:"tomato",children:[Object(j.jsxs)(f.a,{mx:1,children:[Object(j.jsx)(p.a,{my:3,mx:3,fontSize:"2xl",fontWeight:"bold",color:"grey.700",children:"Finished orders"}),k&&Object(j.jsx)(w.b,{onClick:A}),!k&&Object(j.jsx)(w.a,{onClick:A})]}),Object(j.jsx)(R,{children:function(e,t){return Object(j.jsx)(U,{orderName:e,tableNum:t,showTable:!0,fontSize:"xl"})},swipeChild:Object(j.jsx)(p.a,{children:"DONE"}),icon:Object(j.jsx)(w.d,{}),list:v,onClick:function(e){u(e,M.Served)}})]})]})}!function(e){e.INITIAL="Initial",e.ORDER_STATUS_CHANGED="OrderStatusChanged",e.ADD_ORDER="AddOrder"}(B||(B={})),function(e){e[e.InProgress=0]="InProgress",e[e.Ready=1]="Ready",e[e.Served=2]="Served"}(M||(M={}));var V=n(89),Y=n(198),Q=n(129),X=n(193),$=n(180),ee=n(90),te=n(117),ne=n(120),ce=n(118),re=n(98),ie="/",ae="/restaurant",oe="/management",se="/waiter",le="/kitchen",je=["onClose"],de=["icon","children","link"],be=["onOpen"],ue=[{name:"Home",icon:te.a,link:ae},{name:"Management",icon:re.b,link:oe},{name:"Waiter",icon:ce.a,link:se},{name:"Kitchen",icon:re.a,link:le}];function Oe(e){var t=e.children,n=Object(Y.a)(),c=n.isOpen,r=n.onOpen,i=n.onClose;return Object(j.jsxs)(g.a,{minH:"100vh",bg:Object(Q.c)("gray.100","gray.900"),children:[Object(j.jsx)(he,{onClose:function(){return i},display:{base:"none",md:"block"}}),Object(j.jsx)(X.a,{autoFocus:!1,isOpen:c,placement:"left",onClose:i,returnFocusOnClose:!1,onOverlayClick:i,size:"full",children:Object(j.jsx)(X.b,{children:Object(j.jsx)(he,{onClose:i})})}),Object(j.jsx)(fe,{display:{base:"flex",md:"none"},onOpen:r}),Object(j.jsx)(g.a,{ml:{base:0,md:60},p:"4",children:t})]})}var he=function(e){var t=e.onClose,n=Object(V.a)(e,je);return Object(j.jsxs)(g.a,Object(A.a)(Object(A.a)({bg:Object(Q.c)("white","gray.900"),borderRight:"1px",borderRightColor:Object(Q.c)("gray.200","gray.700"),w:{base:"full",md:60},pos:"fixed",h:"full"},n),{},{children:[Object(j.jsxs)(k.a,{h:"20",alignItems:"center",mx:"8",justifyContent:"space-between",children:[Object(j.jsx)(p.a,{fontSize:"2xl",fontFamily:"monospace",fontWeight:"bold",children:"Logo"}),Object(j.jsx)($.a,{display:{base:"flex",md:"none"},onClick:t})]}),ue.map((function(e){return Object(j.jsx)(xe,{icon:e.icon,link:e.link,children:e.name},e.name)}))]}))},xe=function(e){var t=e.icon,n=e.children,c=e.link,r=Object(V.a)(e,de);return Object(j.jsx)(s.b,{to:c,style:{textDecoration:"none"},children:Object(j.jsxs)(k.a,Object(A.a)(Object(A.a)({align:"center",p:"4",mx:"4",borderRadius:"lg",role:"group",cursor:"pointer",_hover:{bg:"cyan.400",color:"white"}},r),{},{children:[t&&Object(j.jsx)(ee.a,{mr:"4",fontSize:"16",_groupHover:{color:"white"},as:t}),n]}))})},fe=function(e){var t=e.onOpen,n=Object(V.a)(e,be);return Object(j.jsxs)(k.a,Object(A.a)(Object(A.a)({ml:{base:0,md:60},px:{base:4,md:24},height:"20",alignItems:"center",bg:Object(Q.c)("white","gray.900"),borderBottomWidth:"1px",borderBottomColor:Object(Q.c)("gray.200","gray.700"),justifyContent:"flex-start"},n),{},{children:[Object(j.jsx)(L.a,{variant:"outline",onClick:t,"aria-label":"open menu",icon:Object(j.jsx)(ne.a,{})}),Object(j.jsx)(p.a,{fontSize:"2xl",ml:"8",fontFamily:"monospace",fontWeight:"bold",children:"Logo"})]}))},pe=function(e){return Object(j.jsx)(c.Fragment,{children:Object(j.jsx)(Oe,{children:e.children})})};var me=function(){return Object(j.jsx)(pe,{children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:ie,exact:!0,children:Object(j.jsx)(l.a,{to:ae})}),Object(j.jsx)(l.b,{path:ae,exact:!0,children:Object(j.jsx)(d,{})}),Object(j.jsx)(l.b,{path:oe,children:Object(j.jsx)(b,{})}),Object(j.jsx)(l.b,{path:le,children:Object(j.jsx)(u,{})}),Object(j.jsx)(l.b,{path:se,children:Object(j.jsx)(J,{})}),Object(j.jsx)(l.b,{path:"*",children:Object(j.jsx)("div",{children:"NOTHING TO SEE HERE PAGE"})})]})})};Object(K.b)();var ge=function(){return Object(j.jsx)(o.a,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(me,{})})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(ge,{})}),document.getElementById("root")),ve()}},[[157,1,2]]]);
//# sourceMappingURL=main.e16fb22e.chunk.js.map