(this.webpackJsonprestaurants2030=this.webpackJsonprestaurants2030||[]).push([[0],{161:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(70),i=n.n(a),o=(n(161),n(211)),l=n(68),s=n(19),b=n(4);function j(){return Object(b.jsx)("div",{children:"RESTAURANT N\xc9ZET"})}function d(){return Object(b.jsx)("div",{children:"MANAGEMENT N\xc9ZET"})}function O(){return Object(b.jsx)("div",{children:"KITCHEN N\xc9ZET"})}var u=n(10),h=(n(163),n(77)),x=n(126),f=n(118),m=n(125),p=n(21),g=n(112),v=n(131),S=n(122),C=n(123),y=n(79),w=(n(111),n(47)),k=n(119),N=n(62);function A(e){return Object(b.jsx)(k.a,{children:Object(b.jsx)(N.SwipeableList,{fullSwipe:!0,style:{backgroundColor:"orange.200"},type:N.Type.ANDROID,threshold:.5,children:e.list.map((function(t){return Object(b.jsx)(N.SwipeableListItem,{trailingActions:(n=t,r=e.onClick,Object(b.jsx)(N.TrailingActions,{children:Object(b.jsx)(N.SwipeAction,{destructive:!0,onClick:function(){r(n)},children:Object(b.jsx)(g.a,{bg:"red.200",children:Object(b.jsxs)(f.b,{justifyContent:"justify-center",display:"row",d:"flex",px:"1",children:[e.icon,e.swipeChild]})})})})),children:e.children(t.name,t.table)},t.id);var n,r}))})})}var E=n(124),I=n(209),R=n(212),T=n(133),D=[{value:"Order1",label:"Order1"},{value:"Order2",label:"Order2"},{value:"Order3",label:"Order3"},{value:"Order4",label:"Order4"},{value:"Order5",label:"Order5"},{value:"Order6",label:"Order6"},{value:"Order7",label:"Order7"},{value:"Order8",label:"Order8"},{value:"Order9",label:"Order9"},{value:"Order10",label:"Order10"}],z=function(e){var t=c.a.useState(D),n=Object(u.a)(t,2),r=n[0],a=n[1],i=c.a.useState([]),o=Object(u.a)(i,2),l=o[0],s=o[1];return Object(b.jsxs)(I.a,{children:[Object(b.jsx)(I.g,{children:Object(b.jsx)(y.a,{colorScheme:"orange",size:"xs",children:Object(b.jsx)(w.e,{})})}),Object(b.jsx)(R.a,{children:Object(b.jsxs)(I.e,{children:[Object(b.jsx)(I.b,{}),Object(b.jsx)(I.d,{}),Object(b.jsx)(I.c,{children:Object(b.jsx)(T.CUIAutoComplete,{label:"Search your order or click dropdown",placeholder:"Order name",onCreateItem:function(e){a((function(t){return[].concat(Object(p.a)(t),[e])})),s((function(t){return[].concat(Object(p.a)(t),[e])}))},selectedItems:l,itemRenderer:function(e){return Object(b.jsxs)(k.a,{spacing:5,justifyContent:"space-between",children:[Object(b.jsx)(m.a,{children:e.label}),Object(b.jsx)(E.a,{}),Object(b.jsx)(g.a,{})]})},items:r,onSelectedItemsChange:function(e){!function(e){e&&(console.log(e),s(e))}(e.selectedItems)}})}),Object(b.jsx)(I.f,{children:Object(b.jsx)(f.b,{children:Object(b.jsx)(y.a,{colorScheme:"teal",variant:"outline",onClick:function(){l.forEach((function(t){e.addNewOrders({id:parseInt(t.value),table:e.tableNum,name:t.label,price:12,orderStatus:H.InProgress})})),s([])},children:"ADD ORDERS"})})})]})})]})};function _(e){return Object(b.jsxs)(g.a,{flexGrow:1,mx:2,children:[Object(b.jsxs)(g.a,{display:"flex",justifyContent:"space-between",children:[Object(b.jsx)(m.a,{fontSize:e.fontSize,fontWeight:"bold",children:e.orderName}),e.showTable&&Object(b.jsxs)(S.a,{my:"1",fontSize:"0.8em",colorScheme:"green",variant:"solid",children:["TABLE ",e.tableNum]})]}),Object(b.jsx)(C.a,{})]})}function L(e){return Object(b.jsx)(g.a,{maxW:"270px",w:"full",bg:"whiteAlpha.900",boxShadow:"2xl",rounded:"md",overflow:"hidden",m:"3",_hover:{transform:"scale(1.2)",boxShadow:"lg",borderColor:"grey.900"},children:Object(b.jsxs)(g.a,{p:6,children:[Object(b.jsxs)(v.e,{spacing:"2px",children:[Object(b.jsxs)(h.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(b.jsx)(g.a,{}),Object(b.jsxs)(S.a,{fontSize:"md",mb:1,mr:3,children:["Table ",e.tableNumber]}),Object(b.jsx)(z,{addNewOrders:e.addOrder,tableNum:e.tableNumber})]}),Object(b.jsx)(g.a,{w:"100%",bg:"orange.200",d:"flex",display:"table-column",justifyContent:"justify-start",children:Object(b.jsx)(A,{children:function(e,t){return Object(b.jsx)(_,{fontSize:"md",orderName:e,tableNum:t,showTable:!1})},swipeChild:Object(b.jsx)(m.a,{children:"DONE"}),icon:Object(b.jsx)(w.c,{}),list:Object(p.a)(e.table.filter((function(e){return e.orderStatus===H.InProgress||e.orderStatus===H.Ready}))),onClick:function(t){e.changeStatus(t,H.Served)}})}),Object(b.jsx)(C.a,{variant:"dashed"}),Object(b.jsx)(g.a,{w:"100%",bg:"green.200",children:Object(b.jsx)(A,{children:function(e,t){return Object(b.jsx)(_,{orderName:e,tableNum:t,showTable:!1,fontSize:"md"})},swipeChild:Object(b.jsx)(m.a,{children:"BACK"}),icon:Object(b.jsx)(w.d,{}),list:Object(p.a)(e.table.filter((function(e){return e.orderStatus===H.Served}))),onClick:function(t){e.changeStatus(t,H.Ready)}})})]}),Object(b.jsx)(y.a,{w:"full",mt:4,bg:"gray.900",color:"white",rounded:"md",_hover:{transform:"translateY(-2px)",boxShadow:"lg"},children:"PAY"})]})})}var F,H,P=n(88),G=n(106);function U(){var e=Object(r.useReducer)(Object(P.a)((function(e,t){switch(t.type){case F.INITIAL:void 0!==t.orders&&t.orders.forEach((function(t){var n=e.get(t.table);void 0!==n?n.push(t):e.set(t.table,[t])}));break;case F.ORDER_STATUS_CHANGED:if(void 0!==t.order){var n=e.get(t.order.table);if(void 0!==n){var r=n.findIndex((function(e){var n;return e.id===(null===(n=t.order)||void 0===n?void 0:n.id)}));n[r]=t.order}}break;case F.ADD_ORDER:void 0!==t.order&&void 0!==(n=e.get(t.order.table))&&n.push(t.order)}})),new Map,void 0),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useCallback)((function(e){c({type:F.ORDER_STATUS_CHANGED,order:e})}),[]),i=Object(r.useCallback)((function(e){c({type:F.INITIAL,orders:e})}),[]),o=Object(r.useCallback)((function(e){c({type:F.ADD_ORDER,order:e})}),[]),l=Object(r.useState)(null),s=Object(u.a)(l,2),j=s[0],d=s[1];Object(r.useEffect)((function(){var e=(new G.a).withUrl("http://localhost:5000/restauranthub").withAutomaticReconnect().configureLogging(G.b.Debug).build();d(e)}),[]);var O=Object(r.useCallback)((function(e,t){null===j||void 0===j||j.invoke("UpdateOrderStatus",{Id:e.id,OrderStatus:t})}),[j]);Object(r.useEffect)((function(){j&&j.start().then((function(){j.on("AllOrders",(function(e){i(e)})),j.on("OrderStatusUpdated",(function(e){a(e)})),j.invoke("GetAllOrders",{RestaurantId:1})})).catch((function(e){return console.log(e)}))}),[j,a,i]);var p=Object(r.useState)([]),g=Object(u.a)(p,2),v=g[0],S=g[1],C=Object(r.useState)(!0),y=Object(u.a)(C,2),k=y[0],N=y[1],E=function(){var e=k?1:-1,t=v.sort((function(t,n){return t.table>n.table?e:-1*e}));console.log(k),N(!k),S(t)};return Object(r.useEffect)((function(){var e=[];n.forEach((function(t,n){return e=e.concat(t.filter((function(e){return e.orderStatus===H.InProgress||e.orderStatus===H.Ready})))})),S(e)}),[n]),Object(b.jsxs)(h.a,{templateRows:"repeat(1, 1fr)",templateColumns:"repeat(5, 1fr)",gap:4,children:[Object(b.jsx)(h.b,{colSpan:4,bg:"papayawhip",p:2,children:Object(b.jsx)(x.a,{children:Array.from(n).map((function(e){return Object(b.jsx)(L,{table:e[1],tableNumber:e[0],addOrder:o,changeStatus:O},e[0])}))})}),Object(b.jsxs)(h.b,{colSpan:1,bg:"tomato",children:[Object(b.jsxs)(f.b,{mx:1,children:[Object(b.jsx)(m.a,{my:3,mx:3,fontSize:"2xl",fontWeight:"bold",color:"grey.700",children:"Finished orders"}),k&&Object(b.jsx)(w.b,{onClick:E}),!k&&Object(b.jsx)(w.a,{onClick:E})]}),Object(b.jsx)(A,{children:function(e,t){return Object(b.jsx)(_,{orderName:e,tableNum:t,showTable:!0,fontSize:"xl"})},swipeChild:Object(b.jsx)(m.a,{children:"DONE"}),icon:Object(b.jsx)(w.d,{}),list:v,onClick:function(e){O(e,H.Served)}})]})]})}!function(e){e.INITIAL="Initial",e.ORDER_STATUS_CHANGED="OrderStatusChanged",e.ADD_ORDER="AddOrder"}(F||(F={})),function(e){e[e.InProgress=0]="InProgress",e[e.Ready=1]="Ready",e[e.Served=2]="Served"}(H||(H={}));var W=n(55),B=n(94),M=n(213),K=n(148),Z=n(210),J=n(207),Y=n(191),q=n(128),Q=n(139),V=n(142),X=n(140),$=n(104),ee="/",te="/restaurant",ne="/management",re="/waiter",ce="/kitchen",ae=["onClose"],ie=["icon","children","link"],oe=["onOpen"],le=[{name:"Home",icon:Q.a,link:te},{name:"Management",icon:$.b,link:ne},{name:"Waiter",icon:X.a,link:re},{name:"Kitchen",icon:$.a,link:ce}];function se(e){var t=e.children,n=Object(M.a)(),r=n.isOpen,c=n.onOpen,a=n.onClose;return Object(b.jsxs)(g.a,{minH:"100vh",bg:Object(K.c)("gray.100","gray.900"),children:[Object(b.jsx)(be,{onClose:function(){return a},display:{base:"none",md:"block"}}),Object(b.jsx)(Z.a,{autoFocus:!1,isOpen:r,placement:"left",onClose:a,returnFocusOnClose:!1,onOverlayClick:a,size:"full",children:Object(b.jsx)(Z.b,{children:Object(b.jsx)(be,{onClose:a})})}),Object(b.jsx)(de,{display:{base:"flex",md:"none"},onOpen:c}),Object(b.jsx)(g.a,{ml:{base:0,md:60},p:"4",children:t})]})}var be=function(e){var t=e.onClose,n=Object(B.a)(e,ae);return Object(b.jsxs)(g.a,Object(W.a)(Object(W.a)({bg:Object(K.c)("white","gray.900"),borderRight:"1px",borderRightColor:Object(K.c)("gray.200","gray.700"),w:{base:"full",md:60},pos:"fixed",h:"full"},n),{},{children:[Object(b.jsxs)(k.a,{h:"20",alignItems:"center",mx:"8",justifyContent:"space-between",children:[Object(b.jsx)(m.a,{fontSize:"2xl",fontFamily:"monospace",fontWeight:"bold",children:"Logo"}),Object(b.jsx)(J.a,{display:{base:"flex",md:"none"},onClick:t})]}),le.map((function(e){return Object(b.jsx)(je,{icon:e.icon,link:e.link,children:e.name},e.name)}))]}))},je=function(e){var t=e.icon,n=e.children,r=e.link,c=Object(B.a)(e,ie);return Object(b.jsx)(l.b,{to:r,style:{textDecoration:"none"},children:Object(b.jsxs)(k.a,Object(W.a)(Object(W.a)({align:"center",p:"4",mx:"4",borderRadius:"lg",role:"group",cursor:"pointer",_hover:{bg:"cyan.400",color:"white"}},c),{},{children:[t&&Object(b.jsx)(Y.a,{mr:"4",fontSize:"16",_groupHover:{color:"white"},as:t}),n]}))})},de=function(e){var t=e.onOpen,n=Object(B.a)(e,oe);return Object(b.jsxs)(k.a,Object(W.a)(Object(W.a)({ml:{base:0,md:60},px:{base:4,md:24},height:"20",alignItems:"center",bg:Object(K.c)("white","gray.900"),borderBottomWidth:"1px",borderBottomColor:Object(K.c)("gray.200","gray.700"),justifyContent:"flex-start"},n),{},{children:[Object(b.jsx)(q.a,{variant:"outline",onClick:t,"aria-label":"open menu",icon:Object(b.jsx)(V.a,{})}),Object(b.jsx)(m.a,{fontSize:"2xl",ml:"8",fontFamily:"monospace",fontWeight:"bold",children:"Logo"})]}))},Oe=function(e){return Object(b.jsx)(r.Fragment,{children:Object(b.jsx)(se,{children:e.children})})};var ue=function(){return Object(b.jsx)(Oe,{children:Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{path:ee,exact:!0,children:Object(b.jsx)(s.a,{to:te})}),Object(b.jsx)(s.b,{path:te,exact:!0,children:Object(b.jsx)(j,{})}),Object(b.jsx)(s.b,{path:ne,children:Object(b.jsx)(d,{})}),Object(b.jsx)(s.b,{path:ce,children:Object(b.jsx)(O,{})}),Object(b.jsx)(s.b,{path:re,children:Object(b.jsx)(U,{})}),Object(b.jsx)(s.b,{path:"*",children:Object(b.jsx)("div",{children:"NOTHING TO SEE HERE PAGE"})})]})})};Object(P.b)();var he=function(){return Object(b.jsx)(o.a,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(ue,{})})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,214)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(he,{})}),document.getElementById("root")),xe()}},[[185,1,2]]]);
//# sourceMappingURL=main.0b424e1b.chunk.js.map